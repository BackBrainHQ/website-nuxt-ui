import{I as he,r as j,aP as F,d as Y,D as y,aX as G,A as H,aY as Ge,aZ as Ye,a_ as Ke,a$ as ue,b0 as Ze,b1 as re,o as se,B as Oe,ar as Ce,aQ as Xe,aR as xe,aS as _e,aT as pe,aU as et,F as de,aN as Se,aO as tt,b2 as at,b3 as Ae,b as je,b4 as lt,b5 as X,ay as nt,b6 as it,aV as L,P as ke,Q as J,k as $e,S as ce,U as x,b7 as Re,ap as Fe,X as K,c as p,e as $,f as N,Y as ot,b8 as ut,N as P,n as f,M,g as ee,t as Q,h as B,b9 as rt,ba as st,E as we,G as De,V as dt,bb as ct,bc as vt,W as pt,bd as ft,be as Ie,H as bt,J as mt,L as R,w as z,bf as ae,i as Z,T as gt,K as ye,O as yt,bg as ht,aa as Ot,ab as St,aE as kt,bh as $t,bi as wt,a9 as V,$ as Me,bj as le,R as Ct,bk as At,bl as It}from"./BLLTmESh.js";import{_ as Mt}from"./5xm61DKU.js";import{f as Vt,c as U,a as Bt,l as Lt,n as jt,u as Rt,r as Ft,i as Dt}from"./BpAt-Ijo.js";import{d as Tt,e as Ut}from"./CY8QUu38.js";const Et=he,Pt={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}};let Ve=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Be(e){var n,r;let s=(n=e.innerText)!=null?n:"",d=e.cloneNode(!0);if(!(d instanceof HTMLElement))return s;let a=!1;for(let b of d.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))b.remove(),a=!0;let t=a?(r=d.innerText)!=null?r:"":s;return Ve.test(t)&&(t=t.replace(Ve,"")),t}function zt(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let r=e.getAttribute("aria-labelledby");if(r){let s=r.split(" ").map(d=>{let a=document.getElementById(d);if(a){let t=a.getAttribute("aria-label");return typeof t=="string"?t.trim():Be(a).trim()}return null}).filter(Boolean);if(s.length>0)return s.join(", ")}return Be(e).trim()}function qt(e){let n=j(""),r=j("");return()=>{let s=F(e);if(!s)return"";let d=s.innerText;if(n.value===d)return r.value;let a=zt(s).trim().toLowerCase();return n.value=d,r.value=a,a}}function Ht(e,n){return e===n}var Nt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Nt||{}),Wt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Wt||{}),Qt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Qt||{});function Jt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Te=Symbol("ListboxContext");function fe(e){let n=nt(Te,null);if(n===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,fe),r}return n}let Gt=Y({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Ht},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:n,attrs:r,emit:s}){let d=j(1),a=j(null),t=j(null),b=j(null),m=j([]),h=j(""),l=j(null),i=j(1);function o(u=v=>v){let v=l.value!==null?m.value[l.value]:null,g=it(u(m.value.slice()),A=>F(A.dataRef.domRef)),S=v?g.indexOf(v):null;return S===-1&&(S=null),{options:g,activeOptionIndex:S}}let C=y(()=>e.multiple?1:0),[k,w]=Tt(y(()=>e.modelValue),u=>s("update:modelValue",u),y(()=>e.defaultValue)),E=y(()=>k.value===void 0?G(C.value,{1:[],0:void 0}):k.value),I={listboxState:d,value:E,mode:C,compare(u,v){if(typeof e.by=="string"){let g=e.by;return(u==null?void 0:u[g])===(v==null?void 0:v[g])}return e.by(u,v)},orientation:y(()=>e.horizontal?"horizontal":"vertical"),labelRef:a,buttonRef:t,optionsRef:b,disabled:y(()=>e.disabled),options:m,searchQuery:h,activeOptionIndex:l,activationTrigger:i,closeListbox(){e.disabled||d.value!==1&&(d.value=1,l.value=null)},openListbox(){e.disabled||d.value!==0&&(d.value=0)},goToOption(u,v,g){if(e.disabled||d.value===1)return;let S=o(),A=Vt(u===U.Specific?{focus:U.Specific,id:v}:{focus:u},{resolveItems:()=>S.options,resolveActiveIndex:()=>S.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.disabled});h.value="",l.value=A,i.value=g??1,m.value=S.options},search(u){if(e.disabled||d.value===1)return;let v=h.value!==""?0:1;h.value+=u.toLowerCase();let g=(l.value!==null?m.value.slice(l.value+v).concat(m.value.slice(0,l.value+v)):m.value).find(A=>A.dataRef.textValue.startsWith(h.value)&&!A.dataRef.disabled),S=g?m.value.indexOf(g):-1;S===-1||S===l.value||(l.value=S,i.value=1)},clearSearch(){e.disabled||d.value!==1&&h.value!==""&&(h.value="")},registerOption(u,v){let g=o(S=>[...S,{id:u,dataRef:v}]);m.value=g.options,l.value=g.activeOptionIndex},unregisterOption(u){let v=o(g=>{let S=g.findIndex(A=>A.id===u);return S!==-1&&g.splice(S,1),g});m.value=v.options,l.value=v.activeOptionIndex,i.value=1},theirOnChange(u){e.disabled||w(u)},select(u){e.disabled||w(G(C.value,{0:()=>u,1:()=>{let v=H(I.value.value).slice(),g=H(u),S=v.findIndex(A=>I.compare(g,H(A)));return S===-1?v.push(g):v.splice(S,1),v}}))}};Ge([t,b],(u,v)=>{var g;I.closeListbox(),Ye(v,Ke.Loose)||(u.preventDefault(),(g=F(t))==null||g.focus())},y(()=>d.value===0)),ue(Te,I),Ze(y(()=>G(d.value,{0:re.Open,1:re.Closed})));let q=y(()=>{var u;return(u=F(t))==null?void 0:u.closest("form")});return se(()=>{Oe([q],()=>{if(!q.value||e.defaultValue===void 0)return;function u(){I.theirOnChange(e.defaultValue)}return q.value.addEventListener("reset",u),()=>{var v;(v=q.value)==null||v.removeEventListener("reset",u)}},{immediate:!0})}),()=>{let{name:u,modelValue:v,disabled:g,form:S,...A}=e,c={open:d.value===0,disabled:g,value:E.value};return Ce(de,[...u!=null&&E.value!=null?Ut({[u]:E.value}).map(([D,be])=>Ce(Xe,xe({features:_e.Hidden,key:D,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:S,disabled:g,name:D,value:be}))):[],pe({ourProps:{},theirProps:{...r,...et(A,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:c,slots:n,attrs:r,name:"Listbox"})])}}}),Yt=Y({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:r,expose:s}){var d;let a=(d=e.id)!=null?d:`headlessui-listbox-button-${Se()}`,t=fe("ListboxButton");s({el:t.buttonRef,$el:t.buttonRef});function b(i){switch(i.key){case L.Space:case L.Enter:case L.ArrowDown:i.preventDefault(),t.openListbox(),X(()=>{var o;(o=F(t.optionsRef))==null||o.focus({preventScroll:!0}),t.value.value||t.goToOption(U.First)});break;case L.ArrowUp:i.preventDefault(),t.openListbox(),X(()=>{var o;(o=F(t.optionsRef))==null||o.focus({preventScroll:!0}),t.value.value||t.goToOption(U.Last)});break}}function m(i){switch(i.key){case L.Space:i.preventDefault();break}}function h(i){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),X(()=>{var o;return(o=F(t.buttonRef))==null?void 0:o.focus({preventScroll:!0})})):(i.preventDefault(),t.openListbox(),Jt(()=>{var o;return(o=F(t.optionsRef))==null?void 0:o.focus({preventScroll:!0})})))}let l=tt(y(()=>({as:e.as,type:n.type})),t.buttonRef);return()=>{var i,o;let C={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{...k}=e,w={ref:t.buttonRef,id:a,type:l.value,"aria-haspopup":"listbox","aria-controls":(i=F(t.optionsRef))==null?void 0:i.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(o=F(t.labelRef))==null?void 0:o.id,a].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:b,onKeyup:m,onClick:h};return pe({ourProps:w,theirProps:k,slot:C,attrs:n,slots:r,name:"ListboxButton"})}}}),Kt=Y({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:n,slots:r,expose:s}){var d;let a=(d=e.id)!=null?d:`headlessui-listbox-options-${Se()}`,t=fe("ListboxOptions"),b=j(null);s({el:t.optionsRef,$el:t.optionsRef});function m(i){switch(b.value&&clearTimeout(b.value),i.key){case L.Space:if(t.searchQuery.value!=="")return i.preventDefault(),i.stopPropagation(),t.search(i.key);case L.Enter:if(i.preventDefault(),i.stopPropagation(),t.activeOptionIndex.value!==null){let o=t.options.value[t.activeOptionIndex.value];t.select(o.dataRef.value)}t.mode.value===0&&(t.closeListbox(),X(()=>{var o;return(o=F(t.buttonRef))==null?void 0:o.focus({preventScroll:!0})}));break;case G(t.orientation.value,{vertical:L.ArrowDown,horizontal:L.ArrowRight}):return i.preventDefault(),i.stopPropagation(),t.goToOption(U.Next);case G(t.orientation.value,{vertical:L.ArrowUp,horizontal:L.ArrowLeft}):return i.preventDefault(),i.stopPropagation(),t.goToOption(U.Previous);case L.Home:case L.PageUp:return i.preventDefault(),i.stopPropagation(),t.goToOption(U.First);case L.End:case L.PageDown:return i.preventDefault(),i.stopPropagation(),t.goToOption(U.Last);case L.Escape:i.preventDefault(),i.stopPropagation(),t.closeListbox(),X(()=>{var o;return(o=F(t.buttonRef))==null?void 0:o.focus({preventScroll:!0})});break;case L.Tab:i.preventDefault(),i.stopPropagation();break;default:i.key.length===1&&(t.search(i.key),b.value=setTimeout(()=>t.clearSearch(),350));break}}let h=at(),l=y(()=>h!==null?(h.value&re.Open)===re.Open:t.listboxState.value===0);return()=>{var i,o;let C={open:t.listboxState.value===0},{...k}=e,w={"aria-activedescendant":t.activeOptionIndex.value===null||(i=t.options.value[t.activeOptionIndex.value])==null?void 0:i.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(o=F(t.buttonRef))==null?void 0:o.id,"aria-orientation":t.orientation.value,id:a,onKeydown:m,role:"listbox",tabIndex:0,ref:t.optionsRef};return pe({ourProps:w,theirProps:k,slot:C,attrs:n,slots:r,features:Ae.RenderStrategy|Ae.Static,visible:l.value,name:"ListboxOptions"})}}}),Zt=Y({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:n,attrs:r,expose:s}){var d;let a=(d=e.id)!=null?d:`headlessui-listbox-option-${Se()}`,t=fe("ListboxOption"),b=j(null);s({el:b,$el:b});let m=y(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===a:!1),h=y(()=>G(t.mode.value,{0:()=>t.compare(H(t.value.value),H(e.value)),1:()=>H(t.value.value).some(u=>t.compare(H(u),H(e.value)))})),l=y(()=>G(t.mode.value,{1:()=>{var u;let v=H(t.value.value);return((u=t.options.value.find(g=>v.some(S=>t.compare(H(S),H(g.dataRef.value)))))==null?void 0:u.id)===a},0:()=>h.value})),i=qt(b),o=y(()=>({disabled:e.disabled,value:e.value,get textValue(){return i()},domRef:b}));se(()=>t.registerOption(a,o)),je(()=>t.unregisterOption(a)),se(()=>{Oe([t.listboxState,h],()=>{t.listboxState.value===0&&h.value&&G(t.mode.value,{1:()=>{l.value&&t.goToOption(U.Specific,a)},0:()=>{t.goToOption(U.Specific,a)}})},{immediate:!0})}),lt(()=>{t.listboxState.value===0&&m.value&&t.activationTrigger.value!==0&&X(()=>{var u,v;return(v=(u=F(b))==null?void 0:u.scrollIntoView)==null?void 0:v.call(u,{block:"nearest"})})});function C(u){if(e.disabled)return u.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),X(()=>{var v;return(v=F(t.buttonRef))==null?void 0:v.focus({preventScroll:!0})}))}function k(){if(e.disabled)return t.goToOption(U.Nothing);t.goToOption(U.Specific,a)}let w=Bt();function E(u){w.update(u)}function I(u){w.wasMoved(u)&&(e.disabled||m.value||t.goToOption(U.Specific,a,0))}function q(u){w.wasMoved(u)&&(e.disabled||m.value&&t.goToOption(U.Nothing))}return()=>{let{disabled:u}=e,v={active:m.value,selected:h.value,disabled:u},{value:g,disabled:S,...A}=e,c={id:a,ref:b,role:"option",tabIndex:u===!0?void 0:-1,"aria-disabled":u===!0?!0:void 0,"aria-selected":h.value,disabled:void 0,onClick:C,onFocus:k,onPointerenter:E,onMouseenter:E,onPointermove:I,onMousemove:I,onPointerleave:q,onMouseleave:q};return pe({ourProps:c,theirProps:A,slot:v,attrs:r,slots:n,name:"ListboxOption"})}}});const Le=ke(J.ui.strategy,J.ui.checkbox,Pt),Xt=Y({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>Le.default.color,validator(e){return J.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:n}){const{ui:r,attrs:s}=ce("checkbox",x(e,"ui"),Le,x(e,"class")),{emitFormChange:d,color:a,name:t,inputId:b}=Re(e),m=b.value??Et(),h=y({get(){return e.modelValue},set(o){n("update:modelValue",o)}}),l=o=>{n("change",o.target.checked),d()},i=y(()=>Fe(K(r.value.base,r.value.form,r.value.rounded,r.value.background,r.value.border,a.value&&r.value.ring.replaceAll("{color}",a.value),a.value&&r.value.color.replaceAll("{color}",a.value)),e.inputClass));return{ui:r,attrs:s,toggle:h,inputId:m,name:t,inputClass:i,onChange:l}}}),xt=["data-n-ids"],_t=["id","name","required","value","disabled","indeterminate"],ea=["for"];function ta(e,n,r,s,d,a){return p(),$("div",{class:f(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[N("div",{class:f(e.ui.container)},[ot(N("input",P({id:e.inputId,"onUpdate:modelValue":n[0]||(n[0]=t=>e.toggle=t),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:n[1]||(n[1]=(...t)=>e.onChange&&e.onChange(...t))}),null,16,_t),[[ut,e.toggle]])],2),e.label||e.$slots.label?(p(),$("div",{key:0,class:f(e.ui.inner)},[N("label",{for:e.inputId,class:f(e.ui.label)},[M(e.$slots,"label",{label:e.label},()=>[ee(Q(e.label),1)]),e.required?(p(),$("span",{key:0,class:f(e.ui.required)},"*",2)):B("",!0)],10,ea),e.help||e.$slots.help?(p(),$("p",{key:0,class:f(e.ui.help)},[M(e.$slots,"help",{help:e.help},()=>[ee(Q(e.help),1)])],2)):B("",!0)],2)):B("",!0)],10,xt)}const aa=Object.assign($e(Xt,[["render",ta]]),{__name:"UCheckbox"}),W=ke(J.ui.strategy,J.ui.select,rt),ne=ke(J.ui.strategy,J.ui.selectMenu,st),la=Y({components:{HCombobox:Lt,HComboboxButton:jt,HComboboxOptions:Rt,HComboboxOption:Ft,HComboboxInput:Dt,HListbox:Gt,HListboxButton:Yt,HListboxOptions:Kt,HListboxOption:Zt,UIcon:we,UAvatar:De},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>W.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>W.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>ne.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:()=>ne.default.searchablePlaceholder.label},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>ne.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:[String,Function],default:()=>ne.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(W.size).includes(e)}},color:{type:String,default:()=>W.default.color,validator(e){return[...J.ui.colors,...Object.keys(W.color)].includes(e)}},variant:{type:String,default:()=>W.default.variant,validator(e){return[...Object.keys(W.variant),...Object.values(W.color).flatMap(n=>Object.keys(n))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:n,slots:r}){const{ui:s,attrs:d}=ce("select",x(e,"ui"),W,x(e,"class")),{ui:a}=ce("selectMenu",x(e,"uiMenu"),ne),t=y(()=>dt({},e.popper,a.value.popper)),[b,m]=ct(t.value),{size:h,rounded:l}=vt({ui:s,props:e}),{emitFormBlur:i,emitFormChange:o,inputId:C,color:k,size:w,name:E}=Re(e,W),I=y(()=>h.value??w.value),q=j(""),u=y({get(){return e.query??q.value},set(O){q.value=O,n("update:query",O)}}),v=y(()=>e.multiple?!Array.isArray(e.modelValue)||!e.modelValue.length?[]:e.valueAttribute?_.value.filter(O=>e.modelValue.includes(O[e.valueAttribute])):_.value.filter(O=>e.modelValue.includes(O)):e.valueAttribute?_.value.find(O=>O[e.valueAttribute]===e.modelValue):_.value.find(O=>O===e.modelValue)),g=y(()=>e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length?`${v.value.length} selected`:null:e.modelValue!==void 0&&e.modelValue!==null?e.valueAttribute?ie(v.value,e.optionAttribute)??null:["string","number"].includes(typeof e.modelValue)?e.modelValue:ie(e.modelValue,e.optionAttribute):null),S=y(()=>{var T,te;const O=((te=(T=s.value.color)==null?void 0:T[k.value])==null?void 0:te[e.variant])||s.value.variant[e.variant];return Fe(K(s.value.base,a.value.select,l.value,s.value.size[I.value],s.value.gap[I.value],e.padded?s.value.padding[I.value]:"p-0",O==null?void 0:O.replaceAll("{color}",k.value),(A.value||r.leading)&&s.value.leading.padding[I.value],(c.value||r.trailing)&&s.value.trailing.padding[I.value]),e.placeholder&&(!e.modelValue||Array.isArray(e.modelValue)&&!e.modelValue.length)&&s.value.placeholder,e.selectClass)}),A=y(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),c=y(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),D=y(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),be=y(()=>e.loading&&!A.value?e.loadingIcon:e.trailingIcon||e.icon),Ue=y(()=>K(s.value.icon.leading.wrapper,s.value.icon.leading.pointer,s.value.icon.leading.padding[I.value])),Ee=y(()=>K(s.value.icon.base,k.value&&J.ui.colors.includes(k.value)&&s.value.icon.color.replaceAll("{color}",k.value),s.value.icon.size[I.value],e.loading&&s.value.icon.loading)),Pe=y(()=>K(s.value.icon.trailing.wrapper,s.value.icon.trailing.pointer,s.value.icon.trailing.padding[I.value])),ze=y(()=>K(s.value.icon.base,k.value&&J.ui.colors.includes(k.value)&&s.value.icon.color.replaceAll("{color}",k.value),s.value.icon.size[I.value],e.loading&&!A.value&&s.value.icon.loading)),me=e.searchable&&typeof e.searchable=="function"?pt(e.searchable,e.debounce):void 0,_=ft(async()=>me?await me(u.value):e.options||[],[],{lazy:e.searchableLazy});function qe(O){return O.replace(/[.*+?^${}()|[\]\\]/g,T=>`\\${T}`)}function ie(O,T){return Ie(O,T)}const oe=y(()=>{if(!u.value||me)return _.value;const O=qe(u.value);return _.value.filter(T=>{var te;return((te=e.searchAttributes)!=null&&te.length?e.searchAttributes:[e.optionAttribute]).some(Je=>{if(["string","number"].includes(typeof T))return String(T).search(new RegExp(O,"i"))!==-1;const ge=Ie(T,Je);return ge!=null&&String(ge).search(new RegExp(O,"i"))!==-1})})}),He=y(()=>u.value===""||e.showCreateOptionWhen==="empty"&&oe.value.length||e.showCreateOptionWhen==="always"&&oe.value.find(T=>["string","number"].includes(typeof T)?T===u.value:ie(T,e.optionAttribute)===u.value)||typeof e.showCreateOptionWhen=="function"&&!e.showCreateOptionWhen(u.value,oe.value)?null:["string","number"].includes(typeof e.modelValue)?u.value:{[e.optionAttribute]:u.value});function Ne(){e.clearSearchOnClose&&(u.value="")}Oe(m,O=>{O?n("open"):(Ne(),n("close"),i())});function We(O){H(e.modelValue)!==O&&(n("update:modelValue",O),n("change",O),o())}function Qe(O){u.value=O.target.value}return bt(()=>he()),{ui:s,uiMenu:a,attrs:d,name:E,inputId:C,popper:t,trigger:b,container:m,selected:v,label:g,accessor:ie,isLeading:A,isTrailing:c,selectClass:S,leadingIconName:D,leadingIconClass:Ee,leadingWrapperIconClass:Ue,trailingIconName:be,trailingIconClass:ze,trailingWrapperIconClass:Pe,filteredOptions:oe,createOption:He,query:u,onUpdate:We,onQueryChange:Qe}}}),na=["value","required"],ia=["id","disabled"],oa={class:"truncate"};function ua(e,n,r,s,d,a){const t=we,b=mt("HComboboxInput"),m=De;return p(),R(ae(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.multiple?Array.isArray(e.modelValue)?e.modelValue:[]:e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:f(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:z(({open:h})=>[e.required?(p(),$("input",{key:0,value:e.modelValue,required:e.required,class:f(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,na)):B("",!0),(p(),R(ae(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:f(e.uiMenu.trigger)},{default:z(()=>[M(e.$slots,"default",{open:h,disabled:e.disabled,loading:e.loading},()=>[N("button",P({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(p(),$("span",{key:0,class:f(e.leadingWrapperIconClass)},[M(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[Z(t,{name:e.leadingIconName,class:f(e.leadingIconClass)},null,8,["name","class"])])],2)):B("",!0),M(e.$slots,"label",{selected:e.selected},()=>[e.label?(p(),$("span",{key:0,class:f(e.uiMenu.label)},Q(e.label),3)):(p(),$("span",{key:1,class:f(e.uiMenu.label)},Q(e.placeholder||" "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(p(),$("span",{key:1,class:f(e.trailingWrapperIconClass)},[M(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[Z(t,{name:e.trailingIconName,class:f(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):B("",!0)],16,ia)])]),_:2},1032,["class"])),h?(p(),$("div",{key:1,ref:"container",class:f([e.uiMenu.container,e.uiMenu.width])},[Z(gt,P({appear:""},e.uiMenu.transition),{default:z(()=>[N("div",null,[e.popper.arrow?(p(),$("div",{key:0,"data-popper-arrow":"",class:f(Object.values(e.uiMenu.arrow))},null,2)):B("",!0),(p(),R(ae(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:f([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:z(()=>{var l,i;return[e.searchable?(p(),R(b,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:f(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):B("",!0),(p(!0),$(de,null,ye(e.filteredOptions,(o,C)=>(p(),R(ae(e.searchable?"HComboboxOption":"HListboxOption"),{key:C,as:"template",value:e.valueAttribute?o[e.valueAttribute]:o,disabled:o.disabled},{default:z(({active:k,selected:w,disabled:E})=>[N("li",{class:f([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,k?e.uiMenu.option.active:e.uiMenu.option.inactive,w&&e.uiMenu.option.selected,E&&e.uiMenu.option.disabled])},[N("div",{class:f(e.uiMenu.option.container)},[M(e.$slots,"option",{option:o,active:k,selected:w},()=>[o.icon?(p(),R(t,{key:0,name:o.icon,class:f([e.uiMenu.option.icon.base,k?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,o.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):o.avatar?(p(),R(m,P({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...o.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):o.chip?(p(),$("span",{key:2,class:f(e.uiMenu.option.chip.base),style:yt({background:`#${o.chip}`})},null,6)):B("",!0),N("span",oa,Q(["string","number"].includes(typeof o)?o:e.accessor(o,e.optionAttribute)),1)])],2),w?(p(),$("span",{key:0,class:f([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[Z(t,{name:e.selectedIcon,class:f(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):B("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(p(),R(ae(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:z(({active:o,selected:C})=>[N("li",{class:f([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,o?e.uiMenu.option.active:e.uiMenu.option.inactive])},[N("div",{class:f(e.uiMenu.option.container)},[M(e.$slots,"option-create",{option:e.createOption,active:o,selected:C},()=>[N("span",{class:f(e.uiMenu.option.create)},'Create "'+Q(typeof e.createOption=="string"?e.createOption:e.accessor(e.createOption,e.optionAttribute))+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((l=e.filteredOptions)!=null&&l.length)?(p(),$("p",{key:2,class:f(e.uiMenu.option.empty)},[M(e.$slots,"option-empty",{query:e.query},()=>[ee(Q(e.uiMenu.default.optionEmpty.label.replace("{query}",e.query)),1)])],2)):(i=e.filteredOptions)!=null&&i.length?B("",!0):(p(),$("p",{key:3,class:f(e.uiMenu.empty)},[M(e.$slots,"empty",{query:e.query},()=>[ee(Q(e.uiMenu.default.empty.label),1)])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):B("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const ra=Object.assign($e(la,[["render",ua]]),{__name:"USelectMenu"});class ve extends Error{constructor(n){super(n),this.message=n,Object.setPrototypeOf(this,ve.prototype)}}const sa=Y({props:{schema:{type:[Object,Function],default:void 0},state:{type:Object,required:!0},validate:{type:Function,default:()=>[]},validateOn:{type:Array,default:()=>["blur","input","change","submit"]}},emits:["submit","error"],setup(e,{expose:n,emit:r}){const s=he(),d=$t(`form-${s}`);se(()=>{d.on(async l=>{var i;l.type!=="submit"&&((i=e.validateOn)!=null&&i.includes(l.type))&&await m(l.path,{silent:!0})})}),je(()=>{d.reset()});const a=j([]);ue("form-errors",a),ue("form-events",d);const t=j({});ue("form-inputs",t);async function b(){let l=await e.validate(e.state);if(e.schema){const{errors:i,result:o}=await ka(e.state,e.schema);i?l=l.concat(i):Object.assign(e.state,o)}return l}async function m(l,i={silent:!1}){let o=l;if(l&&!Array.isArray(l)&&(o=[l]),o){const C=a.value.filter(w=>!o.includes(w.path)),k=(await b()).filter(w=>o.includes(w.path));a.value=C.concat(k)}else a.value=await b();if(a.value.length>0){if(i.silent)return!1;throw new ve(`Form validation failed: ${JSON.stringify(a.value,null,2)}`)}return e.state}async function h(l){var o;const i=l;try{(o=e.validateOn)!=null&&o.includes("submit")&&await m(),i.data=e.state,r("submit",i)}catch(C){if(!(C instanceof ve))throw C;const k={...i,errors:a.value.map(w=>({...w,id:t.value[w.path]}))};r("error",k)}}return n({validate:m,errors:a,setErrors(l,i){i?a.value=a.value.filter(o=>o.path!==i).concat(l):a.value=l},async submit(){await h(new Event("submit"))},getErrors(l){return l?a.value.filter(i=>i.path===l):a.value},clear(l){l?a.value=a.value.filter(i=>i.path!==l):a.value=[]}}),{onSubmit:h,errors:ht(a)}}});function da(e){return e.validate&&e.__isYupSchema__}function ca(e){return e.inner!==void 0}function va(e){return"schema"in e&&typeof e.coercer=="function"&&typeof e.validator=="function"&&typeof e.refiner=="function"}function pa(e){return e.validateAsync!==void 0&&e.id!==void 0}function fa(e){return e.isJoi===!0}function ba(e){return"_parse"in e||"_run"in e||typeof e=="function"&&"schema"in e}function ma(e){return e.parse!==void 0}async function ga(e,n){const r=await("_parse"in n?n._parse(e):"_run"in n?n._run({typed:!1,value:e},{}):n(e));return!r.issues||r.issues.length===0?{errors:null,result:"output"in r?r.output:"value"in r?r.value:null}:{errors:r.issues.map(d=>{var a;return{path:((a=d.path)==null?void 0:a.map(t=>t.key).join("."))||"",message:d.message}}),result:null}}async function ya(e,n){try{return await n.validateAsync(e,{abortEarly:!1}),{errors:null,result:e}}catch(r){if(fa(r))return{errors:r.details.map(d=>({path:d.path.join("."),message:d.message})),result:null};throw r}}async function ha(e,n){const r=await n.safeParseAsync(e);return r.success===!1?{errors:r.error.issues.map(d=>({path:d.path.join("."),message:d.message})),result:null}:{result:r.data,errors:null}}async function Oa(e,n){const[r,s]=n.validate(e);return r?{errors:r.failures().map(a=>({message:a.message,path:a.path.join(".")})),result:null}:{errors:null,result:s}}async function Sa(e,n){try{return{errors:null,result:n.validateSync(e,{abortEarly:!1})}}catch(r){if(ca(r))return{errors:r.inner.map(d=>({path:d.path??"",message:d.message})),result:null};throw r}}function ka(e,n){if(ma(n))return ha(e,n);if(pa(n))return ya(e,n);if(ba(n))return ga(e,n);if(da(n))return Sa(e,n);if(va(n))return Oa(e,n);throw new Error("Form validation failed: Unsupported form schema")}function $a(e,n,r,s,d,a){return p(),$("form",{onSubmit:n[0]||(n[0]=kt((...t)=>e.onSubmit&&e.onSubmit(...t),["prevent"]))},[M(e.$slots,"default",Ot(St({errors:e.errors})))],32)}const wa=Object.assign($e(sa,[["render",$a]]),{__name:"UForm"}),Ca=Y({inheritAttrs:!1,__name:"AuthForm",props:{title:{type:String,default:void 0},description:{type:String,default:void 0},icon:{type:String,default:void 0},align:{type:String,default:"bottom"},loading:{type:Boolean,default:!1},fields:{type:Array,default:()=>[]},providers:{type:Array,default:()=>[]},submitButton:{type:Object,default:()=>({})},passwordToggle:{type:Object,default:()=>({})},schema:{type:Object,default:void 0},validate:{type:[Function,Array],default:void 0},validateOn:{type:Array,default:()=>["submit"]},divider:{type:String,default:"or"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},emits:["submit"],setup(e,{expose:n}){const r=e,s=y(()=>({wrapper:"w-full max-w-sm space-y-6",base:"",container:K("gap-y-6 flex flex-col",r.align==="top"&&"flex-col-reverse"),title:"text-2xl text-gray-900 dark:text-white font-bold",description:"text-gray-500 dark:text-gray-400 mt-1",icon:{wrapper:"mb-2 pointer-events-none",base:"w-8 h-8 flex-shrink-0 text-gray-900 dark:text-white"},providers:"space-y-3",form:"space-y-6",footer:"text-sm text-gray-500 dark:text-gray-400 mt-2",passwordToggle:{showIcon:"i-heroicons-eye",hideIcon:"i-heroicons-eye-slash"},default:{submitButton:{label:"Continue"},passwordToggle:{color:"gray",variant:"link"}}})),d=j(),{ui:a,attrs:t}=ce("auth.form",x(r,"ui"),s,x(r,"class"),!0),b=wt(Object.values(r.fields).reduce((l,{name:i,value:o})=>(l[i]=o,l),{})),m=j(!1);function h(){m.value=!m.value}return n({formRef:d,state:b}),(l,i)=>{var v,g,S,A;const o=we,C=Ct,k=Mt,w=aa,E=ra,I=It,q=At,u=wa;return p(),$("div",P({class:V(a).wrapper},V(t)),[e.icon||l.$slots.icon||e.title||l.$slots.title||e.description||l.$slots.description?(p(),$("div",{key:0,class:f(V(a).base)},[e.icon||l.$slots.icon?(p(),$("div",{key:0,class:f(V(a).icon.wrapper)},[M(l.$slots,"icon",{},()=>[Z(o,{name:e.icon,class:f(V(a).icon.base)},null,8,["name","class"])])],2)):B("",!0),e.title||l.$slots.title?(p(),$("div",{key:1,class:f(V(a).title)},[M(l.$slots,"title",{},()=>[ee(Q(e.title),1)])],2)):B("",!0),e.description||l.$slots.description?(p(),$("div",{key:2,class:f(V(a).description)},[M(l.$slots,"description",{},()=>[ee(Q(e.description),1)])],2)):B("",!0)],2)):B("",!0),N("div",{class:f(V(a).container)},[(v=e.providers)!=null&&v.length?(p(),$("div",{key:0,class:f(V(a).providers)},[(p(!0),$(de,null,ye(e.providers,(c,D)=>(p(),R(C,P({key:D,ref_for:!0},c,{block:"",onClick:c.click}),null,16,["onClick"]))),128))],2)):B("",!0),(g=e.providers)!=null&&g.length&&((S=e.fields)!=null&&S.length)?(p(),R(k,{key:1,label:e.divider},null,8,["label"])):B("",!0),(A=e.fields)!=null&&A.length?(p(),R(u,{key:2,ref_key:"formRef",ref:d,state:b,schema:e.schema,validate:e.validate,"validate-on":e.validateOn,class:f(V(a).form),onSubmit:i[0]||(i[0]=c=>l.$emit("submit",c.data))},{default:z(()=>[(p(!0),$(de,null,ye(e.fields,c=>(p(),R(q,{key:c.name,label:c.type==="checkbox"?"":c.label??"",description:c.description,help:c.help,hint:c.hint,name:c.name,size:c.size},Me({default:z(()=>[M(l.$slots,`${c.name}-field`,P({ref_for:!0},{state:b,field:V(le)(c,["description","help","hint","size"])}),()=>[c.type==="checkbox"?(p(),R(w,P({key:0,modelValue:b[c.name],"onUpdate:modelValue":D=>b[c.name]=D,ref_for:!0},V(le)(c,["description","help","hint","size"])),null,16,["modelValue","onUpdate:modelValue"])):c.type==="select"?(p(),R(E,P({key:1,modelValue:b[c.name],"onUpdate:modelValue":D=>b[c.name]=D,ref_for:!0},V(le)(c,["description","help","hint","size"])),null,16,["modelValue","onUpdate:modelValue"])):c.type==="password"?(p(),R(I,P({key:2,modelValue:b[c.name],"onUpdate:modelValue":D=>b[c.name]=D,type:m.value?"text":"password",ref_for:!0},V(le)(c,["label","description","help","hint","size","type"]),{ui:{icon:{trailing:{pointer:""}}}}),Me({_:2},[e.passwordToggle?{name:"trailing",fn:z(()=>[Z(C,P({ref_for:!0},{...V(a).default.passwordToggle,...e.passwordToggle},{icon:m.value?V(a).passwordToggle.hideIcon:V(a).passwordToggle.showIcon,padded:!1,onClick:h}),null,16,["icon"])]),key:"0"}:void 0]),1040,["modelValue","onUpdate:modelValue","type"])):(p(),R(I,P({key:3,modelValue:b[c.name],"onUpdate:modelValue":D=>b[c.name]=D,ref_for:!0},V(le)(c,["label","description","help","hint","size"])),null,16,["modelValue","onUpdate:modelValue"]))])]),_:2},[l.$slots[`${c.name}-label`]?{name:"label",fn:z(()=>[M(l.$slots,`${c.name}-label`)]),key:"0"}:void 0,l.$slots[`${c.name}-description`]?{name:"description",fn:z(()=>[M(l.$slots,`${c.name}-description`)]),key:"1"}:void 0,l.$slots[`${c.name}-hint`]?{name:"hint",fn:z(()=>[M(l.$slots,`${c.name}-hint`)]),key:"2"}:void 0,l.$slots[`${c.name}-help`]?{name:"help",fn:z(()=>[M(l.$slots,`${c.name}-help`)]),key:"3"}:void 0]),1032,["label","description","help","hint","name","size"]))),128)),M(l.$slots,"validation"),Z(C,P({type:"submit",block:"",loading:e.loading},{...V(a).default.submitButton,...e.submitButton}),null,16,["loading"])]),_:3},8,["state","schema","validate","validate-on","class"])):B("",!0)],2),l.$slots.footer?(p(),$("div",{key:1,class:f(V(a).footer)},[M(l.$slots,"footer")],2)):B("",!0)],16)}}}),Ba=Object.assign(Ca,{__name:"UAuthForm"});export{Ba as _};
